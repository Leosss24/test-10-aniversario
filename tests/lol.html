<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>¬øQu√© Campe√≥n de LoL Eres?</title>
<style>
  :root{
    /* Paleta basada en la que indicaste (adaptada a la UI) */
    --bg-1:#1b1524;      /* fondo profundo */
    --bg-2:#2a2136;      /* tarjetas */
    --border:#3d2f53;    /* bordes */
    --text:#f6f2ff;      /* texto principal */
    --muted:#cdc2e6;     /* texto secundario */
    --accent:#9f7aea;    /* acento violeta */
    --accent-2:#f59e0b;  /* acento c√°lido dorado */
    --chip:#3a2d50;      /* c√°psulas */
    --btn:#7a63b2;       /* bot√≥n */
    --btn-hover:#8d76c2; /* bot√≥n hover */
  }
  *{box-sizing:border-box}
  body{
    font-family: "Segoe UI", system-ui, -apple-system, Roboto, sans-serif;
    background:
      radial-gradient(900px 520px at 20% -10%, #2b2240 0%, transparent 60%),
      radial-gradient(900px 560px at 110% 10%, #1e182b 0%, transparent 60%),
      linear-gradient(180deg, var(--bg-1), #140f1b 50%, #0f0b15);
    color: var(--text);
    margin:0;
    padding:0;
  }
  .container{
    max-width: 980px;
    margin: 40px auto;
    background: var(--bg-2);
    border:1px solid var(--border);
    border-radius: 18px;
    box-shadow: 0 18px 60px rgba(0,0,0,.5);
    overflow:hidden;
  }
  header{
    padding: 24px 28px 12px;
    border-bottom:1px solid var(--border);
    background: linear-gradient(180deg, #2f2444, #251c37);
  }
  h1{
    margin:0 0 6px;
    color: var(--accent-2);
    letter-spacing:.2px;
    text-align:center;
  }
  .sub{
    margin:0 0 8px;
    color: var(--muted);
    text-align:center;
    font-size:14px;
  }
  main{ padding: 22px 28px 10px; }
  .badge{
    display:inline-block;
    padding:4px 10px;
    font-size:12px;
    border-radius:999px;
    background: var(--chip);
    border:1px solid var(--border);
    color: var(--muted);
    margin-bottom:8px;
  }
  .question{ margin-bottom: 18px; }
  .question h3{ margin:6px 0 10px; font-size:20px; color:#efe7ff; }
  .options button{
    width:100%;
    text-align:left;
    background:#241b33;
    color:#f1eaff;
    border:2px solid var(--border);
    border-radius:12px;
    padding:12px 14px;
    margin:7px 0;
    font-size:16px;
    cursor:pointer;
    transition: background .2s, border-color .2s, transform .06s;
  }
  .options button:hover{ background:#2d2342; border-color: var(--btn); transform: translateY(-1px); }
  #navigation{
    text-align:center;
    padding: 8px 0 16px;
    border-top:1px dashed var(--border);
  }
  .btn-nav{
    display:inline-block;
    margin: 10px 6px;
    padding:10px 16px;
    font-size:14px;
    background: var(--btn);
    color:#f8f5ff;
    border:1px solid var(--border);
    border-radius:10px;
    text-decoration:none;
    cursor:pointer;
    transition: background .2s, transform .06s;
  }
  .btn-nav:hover{ background: var(--btn-hover); transform: translateY(-1px);}
  #result{
    text-align:center;
    padding: 8px 20px 28px;
  }
  .splash{
    width: 100%;
    max-width: 820px;
    border-radius: 14px;
    border:1px solid var(--border);
    box-shadow: 0 12px 40px rgba(0,0,0,.45);
    margin: 10px auto 8px;
    display:block;
  }
  .desc{ max-width:760px; margin:10px auto; color:#e9e0ff; }
  .share{ margin-top:14px; }
  @media (max-width:780px){
    main{ padding:18px 16px; }
    .container{ margin: 22px 12px; }
    .question h3{ font-size:18px; }
    .options button{ font-size:15px; }
  }
</style>
</head>
<body>
  <div class="container">
    <header>
      <h1>¬øQu√© Campe√≥n de LoL Eres?</h1>
      <p class="sub">16 preguntas. 32 iconos. Balance perfecto. Solo 1 ganador.</p>
    </header>
    <main>
      <div id="quiz"></div>
      <div id="navigation">
        <button class="btn-nav" onclick="goBack()">‚¨Ö Volver</button>
        <a href="../index.html" class="btn-nav">üè† Inicio</a>
      </div>
      <div id="result"></div>
    </main>
  </div>

<script>
/* =========
   Campeones (32): incluye principales de Arcane (que son campeones)
   ========= */
const champs = [
  "Jinx","Vi","Caitlyn","Jayce","Viktor","Heimerdinger","Ekko",
  "Ahri","Yasuo","Yone","Zed","Lux","Garen","Darius","Katarina","Lee Sin",
  "Thresh","Ashe","Riven","Miss Fortune","Draven","Teemo","Blitzcrank","Morgana",
  "Kayle","Shen","Rengar","Ezreal","Sona","Sylas","Fiora","Orianna"
];

/* =========
   Im√°genes oficiales de Riot (Data Dragon)
   ========= */
const champImages = {
  "Jinx":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Jinx_0.jpg",
  "Vi":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Vi_0.jpg",
  "Caitlyn":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Caitlyn_0.jpg",
  "Jayce":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Jayce_0.jpg",
  "Viktor":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Viktor_0.jpg",
  "Heimerdinger":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Heimerdinger_0.jpg",
  "Ekko":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Ekko_0.jpg",
  "Ahri":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Ahri_0.jpg",
  "Yasuo":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Yasuo_0.jpg",
  "Yone":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Yone_0.jpg",
  "Zed":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Zed_0.jpg",
  "Lux":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Lux_0.jpg",
  "Garen":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Garen_0.jpg",
  "Darius":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Darius_0.jpg",
  "Katarina":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Katarina_0.jpg",
  "Lee Sin":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/LeeSin_0.jpg",
  "Thresh":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Thresh_0.jpg",
  "Ashe":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Ashe_0.jpg",
  "Riven":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Riven_0.jpg",
  "Miss Fortune":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/MissFortune_0.jpg",
  "Draven":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Draven_0.jpg",
  "Teemo":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Teemo_0.jpg",
  "Blitzcrank":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Blitzcrank_0.jpg",
  "Morgana":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Morgana_0.jpg",
  "Kayle":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Kayle_0.jpg",
  "Shen":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Shen_0.jpg",
  "Rengar":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Rengar_0.jpg",
  "Ezreal":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Ezreal_0.jpg",
  "Sona":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Sona_0.jpg",
  "Sylas":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Sylas_0.jpg",
  "Fiora":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Fiora_0.jpg",
  "Orianna":"https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Orianna_0.jpg"
};

/* =========
   Descripciones (tono con cuchilla)
   ========= */
const champDesc = {
  "Jinx":"Caos con sonrisa. Si explota y hace ruido, te sirve. Product manager del desastre.",
  "Vi":"Pu√±os primero, preguntas nunca. RH teme tus feedbacks ‚Äòpr√°cticos‚Äô.",
  "Caitlyn":"Calma, precisi√≥n y t√©. Te encanta tener raz√≥n‚Ä¶ desde lejos.",
  "Jayce":"Innovaci√≥n con ego. Presentaci√≥n, demo y selfie: en ese orden.",
  "Viktor":"Perfeccionista en beta eterna. Actualizas hasta la tostadora.",
  "Heimerdinger":"Torreta ahora, pregunta luego. Tu mesa es un laboratorio.",
  "Ekko":"Plan B, C y rebobinar. Siempre llegas tarde‚Ä¶ para llegar perfecto.",
  "Ahri":"Encanto con colmillo. Te r√≠es y luego firmas el contrato.",
  "Yasuo":"Mucho viento, poco ticket cerrado. Pero qu√© highlight, eh.",
  "Yone":"Seriedad m√≠stica. Llevas el drama con elegancia letal.",
  "Zed":"Trabajo en sombras: eficiente, inquietante y sin horas extra declaradas.",
  "Lux":"Luz, optimismo y stun sorpresa. PR te adora.",
  "Garen":"Honor, moral alta y PowerPoint en may√∫sculas.",
  "Darius":"Si hay cuello, hay ‚Äòreset‚Äô. Citas al KPI con hacha.",
  "Katarina":"Objetivos m√∫ltiples, cero apego. ‚ÄòYa si eso‚Äô en √°rea.",
  "Lee Sin":"No ve el problema, lo siente. Y lo patea a producci√≥n.",
  "Thresh":"Networking agresivo. Nadie se te escapa del LinkedIn.",
  "Ashe":"Plan helado y ejecuci√≥n fr√≠a. Lideras sin subir la voz.",
  "Riven":"Refactorizas tu vida a golpe de espada. Funciona.",
  "Miss Fortune":"Carisma y bala. Marketing en r√°faga.",
  "Draven":"Marca personal: t√∫. KPI: aplausos.",
  "Teemo":"Sonrisa + trampa. Compliance te observa.",
  "Blitzcrank":"Soporte que no pregunta, arrastra.",
  "Morgana":"Contrato con letra peque√±a. Justicia, pero edgy.",
  "Kayle":"Excel celestial. Si no es perfecto, no es.",
  "Shen":"Teleport al problema correcto. Zen con prisa.",
  "Rengar":"Ambush profesional. Caza bugs (y egos).",
  "Ezreal":"Aventura y postureo. Si no hay selfie, no pas√≥.",
  "Sona":"Brief musical. Hablas poco, dices mucho.",
  "Sylas":"Robas ideas‚Ä¶ para mejorarlas (gui√±o).",
  "Fiora":"Duelo de egos con florete. Normalmente ganas.",
  "Orianna":"Precisi√≥n mec√°nica. Emoci√≥n en versi√≥n 1.0"
};

/* =========
   Preguntas (16) con 4 opciones (texto sin puntos)
   ========= */
const Q = [
  {q:"Tu plan de victoria suena a‚Ä¶",
   a:["Macro impecable","5v5 de frente","Pick off elegante","Caos calculado"]},
  {q:"Tu caf√© ideal:",
   a:["Filtro con calma","Doble espresso sin az√∫car","Cold brew ‚Äòporque s√≠‚Äô","T√© porque soy civilizado/a"]},
  {q:"En teamfight eres‚Ä¶",
   a:["Frontline con honor","Carry con ego","Flanqueo ninja","Soporte con agenda"]},
  {q:"Tu mayor debilidad:",
   a:["El ego (del resto)","La prisa","El drama","El Excel"]},
  {q:"Roadtrip del finde:",
   a:["Ruta preciosa con paradas","Autopista y m√∫sica a tope","Atajo raro por emoci√≥n","No salgo, build casera"]},
  {q:"En ranked te define:",
   a:["Shotcaller zen","Micro brutal","Map awareness absurdo","Tilt-resistente y meme"]},
  {q:"Cita ideal:",
   a:["Museo y charla","Plan adrenalina","Callejear con fotos","Cocinar juntos"]},
  {q:"Tu escritorio es‚Ä¶",
   a:["Minimalista cl√≠nico","Creativo desordenado","RGB con orgullo","Pila de post-its"]},
  {q:"Manager favorito:",
   a:["El que inspira","El que empuja","El que cuida","El que no molesta"]},
  {q:"Tu superpoder real:",
   a:["Predecir errores","Motivar equipos","Solucionar en silencio","Hacer re√≠r y unir"]},
  {q:"Cuando hay crisis:",
   a:["Re√∫no y alineo","Entro primero","Espero el momento","Cubro a todos"]},
  {q:"Si fueras villano/a:",
   a:["Clase y mon√≥logo","Caos con estilo","Silencio y sombra","Sonrisa y contrato"]},
  {q:"Vacaciones so√±adas:",
   a:["Norte fr√≠o y auroras","Islas y deportes","Ciudades con historia","Caba√±a y cocina"]},
  {q:"En el curro te dicen:",
   a:["‚ÄòCapit√°n/a‚Äô","‚ÄòHighlight humano‚Äô","‚ÄòCerebrito‚Äô","‚ÄòEl pegamento‚Äô"]},
  {q:"Tu meme spirit animal:",
   a:["Perro estoico","Gato parkour","Rana pensativa","Pato con sombrero"]},
  {q:"√öltima: ¬øQu√© te frena?",
   a:["Nada, honestamente","El reloj","La burocracia","La Wi-Fi del siglo XIX"]}
];

/* =========
   Generador 8‚Äì7‚Äì6‚Äì5‚Äì4‚Äì3‚Äì2‚Äì1 ULTRA-BALANCEADO
   - 16 preguntas, 4 respuestas -> 64 respuestas.
   - En cada respuesta se punt√∫a a 8 campeones (de 32) con 8..1.
   - Por pregunta q, rotamos la lista 32 por q y la partimos en 4 grupos de 8 (uno por respuesta).
   - Dentro de cada grupo, √≠ndice pos (0..7) -> score = 8 - pos.
   - Como pos avanza con q, cada campe√≥n recibe EXACTAMENTE 2 veces cada valor 8..1 total.
   ========= */
const SCORE_FROM_POS = [8,7,6,5,4,3,2,1];

function buildQuestionsBalanced(){
  const questions = [];
  for (let q=0; q<Q.length; q++){
    const base = champs.slice(q).concat(champs.slice(0,q)); // rotaci√≥n por pregunta
    const groups = [
      base.slice(0,8),
      base.slice(8,16),
      base.slice(16,24),
      base.slice(24,32)
    ];
    const answers = [];
    for (let ai=0; ai<4; ai++){
      const points = {};
      const group = groups[ai];
      for (let pos=0; pos<8; pos++){
        const who = group[pos];
        points[who] = SCORE_FROM_POS[pos]; // 8..1
      }
      answers.push({ text: Q[q].a[ai], points });
    }
    questions.push({ question: Q[q].q, answers });
  }
  return questions;
}

const questions = buildQuestionsBalanced();

/* =========
   L√ìGICA QUIZ
   ========= */
const quizEl = document.getElementById("quiz");
const resEl = document.getElementById("result");
let currentQuestion = 0;
let scores = {};
let history = [];

function showQuestion(){
  const q = questions[currentQuestion];
  const html = `
    <span class="badge">Pregunta ${currentQuestion+1} de ${questions.length}</span>
    <div class="question">
      <h3>${q.question}</h3>
      <div class="options">
        ${q.answers.map((a,i)=>`<button onclick="selectAnswer(${i})">${a.text}</button>`).join("")}
      </div>
    </div>
  `;
  quizEl.innerHTML = html;
  resEl.innerHTML = "";
}

function selectAnswer(i){
  const sel = questions[currentQuestion].answers[i];
  history.push(i);
  for (const [c,pts] of Object.entries(sel.points)){
    scores[c] = (scores[c]||0) + pts;
  }
  currentQuestion++;
  if (currentQuestion < questions.length) showQuestion();
  else showResult();
}

function goBack(){
  if (currentQuestion > 0){
    const lastIndex = history.pop();
    const lastAns = questions[currentQuestion-1].answers[lastIndex];
    for (const [c,pts] of Object.entries(lastAns.points)){
      scores[c] -= pts;
    }
    currentQuestion--;
    showQuestion();
  }
}

function showResult(){
  quizEl.innerHTML = "";
  let best = null, max = -Infinity;
  for (const [c,pts] of Object.entries(scores)){
    if (pts > max){ max = pts; best = c; }
  }
  const topPts = Math.max(...Object.values(scores));
  const ties = Object.entries(scores).filter(([c,p])=>p===topPts).map(([c])=>c);
  if (ties.length>1){ best = ties[Math.floor(Math.random()*ties.length)]; }

  const img = champImages[best];
  const desc = champDesc[best] || "Leyenda misteriosa. Probablemente baneado/a en tu elo.";
  const tweet = `Soy ${best} en el test de campeones de LoL. Acepto reportes solo por envidia.`;
  const url = encodeURIComponent(location.href);
  const share = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweet)}&url=${url}`;

  resEl.innerHTML = `
    <img class="splash" src="${img}" alt="${best}"
         onerror="this.onerror=null; this.src='https://via.placeholder.com/820x360.jpg?text=${encodeURIComponent(best)}';" />
    <h2 style="margin:10px 0 0;color:var(--accent-2)">¬°Eres <span style="color:#fff">${best}</span>!</h2>
    <p class="desc">${desc}</p>
    <div class="share">
      <a class="btn-nav" href="${share}" target="_blank">Compartir en X/Twitter</a>
    </div>
  `;
}

showQuestion();

/* =========
   (Opcional) Validador en consola
   Ejecuta validateDistribution() para comprobar que cada campe√≥n tiene 2√ó(8..1)
   ========= */
function validateDistribution(){
  const need = {8:2,7:2,6:2,5:2,4:2,3:2,2:2,1:2};
  const tally = Object.fromEntries(champs.map(c => [c, {1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}]));
  questions.forEach(q => q.answers.forEach(a => {
    Object.entries(a.points).forEach(([k,v]) => tally[k][v]++);
  }));
  const issues = [];
  for (const c of champs){
    for (const s of [1,2,3,4,5,6,7,8]){
      if (tally[c][s] !== need[s]) issues.push(`${c} -> ${s}pts = ${tally[c][s]} (esperado ${need[s]})`);
    }
  }
  if (issues.length===0){ console.log("%cOK: Distribuci√≥n perfecta 8..1 (2 veces c/u)","color:#10b981"); }
  else{ console.warn("Ajustes necesarios:", issues); }
  return tally;
}
</script>
</body>
</html>
